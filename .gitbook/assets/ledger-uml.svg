<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="991px" preserveAspectRatio="none" style="width:2695px;height:991px;" version="1.1" viewBox="0 0 2695 991" width="2695px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="398" x="1150.5" y="16.708">https://github.com/Gravity-Tech/gravity-core</text><!--MD5=[d5ac3844f66b12d9e08170e47495e096]
cluster app--><polygon fill="#FFFFFF" points="14,470.9531,49,470.9531,56,493.25,943,493.25,943,891.9531,14,891.9531,14,470.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="56" y1="493.25" y2="493.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="18" y="485.9482">app</text><!--MD5=[c3f73ca7a1e85901c8e4bfbb11c9c20a]
cluster account--><polygon fill="#FFFFFF" points="962,585.9531,1031,585.9531,1038,608.25,1555,608.25,1555,668.9531,962,668.9531,962,585.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="962" x2="1038" y1="608.25" y2="608.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="63" x="966" y="600.9482">account</text><!--MD5=[baf563710780cbbbf3058eba83f258a9]
cluster query--><polygon fill="#FFFFFF" points="46,215.4531,98,215.4531,105,237.75,1894,237.75,1894,375.4531,46,375.4531,46,215.4531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="105" y1="237.75" y2="237.75"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="50" y="230.4482">query</text><!--MD5=[1346839f4d9afb2d0f5d9392cd5481da]
cluster scheduler--><polygon fill="#FFFFFF" points="1913,144.9531,1998,144.9531,2005,167.25,2673,167.25,2673,445.9531,1913,445.9531,1913,144.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1913" x2="2005" y1="167.25" y2="167.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="1917" y="159.9482">scheduler</text><!--MD5=[dc557fe5ecd1732f136eef1d10280ba2]
cluster adaptors--><polygon fill="#FFFFFF" points="2135,585.9531,2211,585.9531,2218,608.25,2303,608.25,2303,668.9531,2135,668.9531,2135,585.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2135" x2="2218" y1="608.25" y2="608.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="2139" y="600.9482">adaptors</text><!--MD5=[857233cdc7018b1e8695fe78ce49561f]
cluster __builtin__--><polygon fill="#FFFFFF" points="43,36.9531,97,36.9531,104,59.25,127,59.25,127,119.9531,43,119.9531,43,36.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="43" x2="104" y1="59.25" y2="59.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="48" x="47" y="51.9482">builtin</text><!--MD5=[4509476d0b54710915a7c2a85d180351]
class app.GHApplication--><rect fill="#FEFECE" height="278.4844" id="app.GHApplication" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="419" x="516.5" y="497.9531"/><ellipse cx="678.25" cy="513.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M677.7344,514.5156 Q675.875,513.8125 675.2188,513.0469 Q674.5781,512.2656 674.5781,510.9531 Q674.5781,509.2656 675.6563,508.2969 Q676.7344,507.3281 678.6094,507.3281 Q679.4688,507.3281 680.3125,507.5313 Q681.1719,507.7188 682.0156,508.1094 L682.0156,510.5 Q681.2344,509.9375 680.4063,509.6563 Q679.5938,509.3594 678.7969,509.3594 Q677.9219,509.3594 677.4375,509.7188 Q676.9688,510.0781 676.9688,510.7344 Q676.9688,511.25 677.3125,511.5938 Q677.6563,511.9219 678.75,512.3281 L679.8125,512.7344 Q681.2969,513.2813 682,514.1875 Q682.7188,515.0938 682.7188,516.4688 Q682.7188,518.3438 681.6094,519.2656 Q680.5,520.1875 678.25,520.1875 Q677.3281,520.1875 676.4063,519.9688 Q675.4844,519.75 674.625,519.3281 L674.625,516.7969 Q675.5938,517.4844 676.5156,517.8281 Q677.4375,518.1719 678.3281,518.1719 Q679.2344,518.1719 679.7344,517.7656 Q680.2344,517.3438 680.2344,516.6094 Q680.2344,516.0469 679.8906,515.6406 Q679.5625,515.2188 678.9375,514.9688 L677.7344,514.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="698.75" y="518.1074">GHApplication</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="517.5" x2="934.5" y1="529.9531" y2="529.9531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="524.5" y="537.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="536.5" y="544.1636">db *badger.DB</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="524.5" y="550.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="536.5" y="556.9683">storage *storage.Storage</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="524.5" y="563.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="536.5" y="569.7729">adaptors</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="25" x="591.5" y="569.7729">map</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="277" x="616.5" y="569.7729">[account.ChainType]adaptors.IBlockchainAdaptor</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="524.5" y="576.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="536.5" y="582.5776">scheduler *scheduler.Scheduler</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="524.5" y="589.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="536.5" y="595.3823">ctx context.Context</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="524.5" y="601.9766"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="536.5" y="608.187">genesis *Genesis</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="524.5" y="614.7813"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="536.5" y="620.9917">ledgerConfig *config.LedgerConfig</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="540.5" y="633.7964"/><ellipse cx="527.5" cy="643.3906" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="536.5" y="646.6011">IsSync bool</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="517.5" x2="934.5" y1="653.1953" y2="653.1953"/><ellipse cx="527.5" cy="664.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="270" x="536.5" y="667.4058">Info(req types.RequestInfo) types.ResponseInfo</text><ellipse cx="527.5" cy="677" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="375" x="536.5" y="680.2104">SetOption(req types.RequestSetOption) types.ResponseSetOption</text><ellipse cx="527.5" cy="689.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="363" x="536.5" y="693.0151">DeliverTx(req types.RequestDeliverTx) types.ResponseDeliverTx</text><ellipse cx="527.5" cy="702.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="348" x="536.5" y="705.8198">CheckTx(req types.RequestCheckTx) types.ResponseCheckTx</text><ellipse cx="527.5" cy="715.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="536.5" y="718.6245">Commit() types.ResponseCommit</text><ellipse cx="527.5" cy="728.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="343" x="536.5" y="731.4292">Query(reqQuery types.RequestQuery) types.ResponseQuery</text><ellipse cx="527.5" cy="741.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="354" x="536.5" y="744.2339">InitChain(req types.RequestInitChain) types.ResponseInitChain</text><ellipse cx="527.5" cy="753.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="393" x="536.5" y="757.0386">BeginBlock(req types.RequestBeginBlock) types.ResponseBeginBlock</text><ellipse cx="527.5" cy="766.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="360" x="536.5" y="769.8433">EndBlock(req types.RequestEndBlock) types.ResponseEndBlock</text><!--MD5=[208d56fecc600603767cd44f1c7ea14f]
class app.Genesis--><rect fill="#FEFECE" height="73.6094" id="app.Genesis" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="459" x="22.5" y="599.9531"/><ellipse cx="222.75" cy="615.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M222.2344,616.5156 Q220.375,615.8125 219.7188,615.0469 Q219.0781,614.2656 219.0781,612.9531 Q219.0781,611.2656 220.1563,610.2969 Q221.2344,609.3281 223.1094,609.3281 Q223.9688,609.3281 224.8125,609.5313 Q225.6719,609.7188 226.5156,610.1094 L226.5156,612.5 Q225.7344,611.9375 224.9063,611.6563 Q224.0938,611.3594 223.2969,611.3594 Q222.4219,611.3594 221.9375,611.7188 Q221.4688,612.0781 221.4688,612.7344 Q221.4688,613.25 221.8125,613.5938 Q222.1563,613.9219 223.25,614.3281 L224.3125,614.7344 Q225.7969,615.2813 226.5,616.1875 Q227.2188,617.0938 227.2188,618.4688 Q227.2188,620.3438 226.1094,621.2656 Q225,622.1875 222.75,622.1875 Q221.8281,622.1875 220.9063,621.9688 Q219.9844,621.75 219.125,621.3281 L219.125,618.7969 Q220.0938,619.4844 221.0156,619.8281 Q221.9375,620.1719 222.8281,620.1719 Q223.7344,620.1719 224.2344,619.7656 Q224.7344,619.3438 224.7344,618.6094 Q224.7344,618.0469 224.3906,617.6406 Q224.0625,617.2188 223.4375,616.9688 L222.2344,616.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="50" x="243.25" y="620.1074">Genesis</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23.5" x2="480.5" y1="631.9531" y2="631.9531"/><ellipse cx="33.5" cy="642.9531" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="42.5" y="646.1636">ConsulsCount int</text><ellipse cx="33.5" cy="655.7578" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="42.5" y="658.9683">OraclesAddressByValidator</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="25" x="201.5" y="658.9683">map</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="249" x="226.5" y="658.9683">[account.ConsulPubKey][]OraclesAddresses</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23.5" x2="480.5" y1="665.5625" y2="665.5625"/><!--MD5=[c573f81d3a906142117c6e7cc2012a0a]
class app.OraclesAddresses--><rect fill="#FEFECE" height="48" id="app.OraclesAddresses" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="789.5" y="835.9531"/><ellipse cx="804.5" cy="851.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M803.9844,852.5156 Q802.125,851.8125 801.4688,851.0469 Q800.8281,850.2656 800.8281,848.9531 Q800.8281,847.2656 801.9063,846.2969 Q802.9844,845.3281 804.8594,845.3281 Q805.7188,845.3281 806.5625,845.5313 Q807.4219,845.7188 808.2656,846.1094 L808.2656,848.5 Q807.4844,847.9375 806.6563,847.6563 Q805.8438,847.3594 805.0469,847.3594 Q804.1719,847.3594 803.6875,847.7188 Q803.2188,848.0781 803.2188,848.7344 Q803.2188,849.25 803.5625,849.5938 Q803.9063,849.9219 805,850.3281 L806.0625,850.7344 Q807.5469,851.2813 808.25,852.1875 Q808.9688,853.0938 808.9688,854.4688 Q808.9688,856.3438 807.8594,857.2656 Q806.75,858.1875 804.5,858.1875 Q803.5781,858.1875 802.6563,857.9688 Q801.7344,857.75 800.875,857.3281 L800.875,854.7969 Q801.8438,855.4844 802.7656,855.8281 Q803.6875,856.1719 804.5781,856.1719 Q805.4844,856.1719 805.9844,855.7656 Q806.4844,855.3438 806.4844,854.6094 Q806.4844,854.0469 806.1406,853.6406 Q805.8125,853.2188 805.1875,852.9688 L803.9844,852.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="113" x="818.5" y="856.1074">OraclesAddresses</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="790.5" x2="933.5" y1="867.9531" y2="867.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="790.5" x2="933.5" y1="875.9531" y2="875.9531"/><!--MD5=[d92987a5c20068fe547f61ce7ca5144c]
class account.ChainType--><rect fill="#FEFECE" height="48" id="account.ChainType" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="1125" y="612.9531"/><ellipse cx="1140" cy="628.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1142.9688,634.5938 Q1142.3906,634.8906 1141.75,635.0313 Q1141.1094,635.1875 1140.4063,635.1875 Q1137.9063,635.1875 1136.5781,633.5469 Q1135.2656,631.8906 1135.2656,628.7656 Q1135.2656,625.6406 1136.5781,623.9844 Q1137.9063,622.3281 1140.4063,622.3281 Q1141.1094,622.3281 1141.75,622.4844 Q1142.4063,622.6406 1142.9688,622.9375 L1142.9688,625.6563 Q1142.3438,625.0781 1141.75,624.8125 Q1141.1563,624.5313 1140.5313,624.5313 Q1139.1875,624.5313 1138.5,625.6094 Q1137.8125,626.6719 1137.8125,628.7656 Q1137.8125,630.8594 1138.5,631.9375 Q1139.1875,633 1140.5313,633 Q1141.1563,633 1141.75,632.7344 Q1142.3438,632.4531 1142.9688,631.875 L1142.9688,634.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="1154" y="633.1074">ChainType</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1126" x2="1220" y1="644.9531" y2="644.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1126" x2="1220" y1="652.9531" y2="652.9531"/><!--MD5=[515e9015c6b458c48499005d5b32aa98]
class account.OraclesPubKey--><rect fill="#FEFECE" height="48" id="account.OraclesPubKey" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="1256" y="612.9531"/><ellipse cx="1271" cy="628.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1273.9688,634.5938 Q1273.3906,634.8906 1272.75,635.0313 Q1272.1094,635.1875 1271.4063,635.1875 Q1268.9063,635.1875 1267.5781,633.5469 Q1266.2656,631.8906 1266.2656,628.7656 Q1266.2656,625.6406 1267.5781,623.9844 Q1268.9063,622.3281 1271.4063,622.3281 Q1272.1094,622.3281 1272.75,622.4844 Q1273.4063,622.6406 1273.9688,622.9375 L1273.9688,625.6563 Q1273.3438,625.0781 1272.75,624.8125 Q1272.1563,624.5313 1271.5313,624.5313 Q1270.1875,624.5313 1269.5,625.6094 Q1268.8125,626.6719 1268.8125,628.7656 Q1268.8125,630.8594 1269.5,631.9375 Q1270.1875,633 1271.5313,633 Q1272.1563,633 1272.75,632.7344 Q1273.3438,632.4531 1273.9688,631.875 L1273.9688,634.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="1285" y="633.1074">OraclesPubKey</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1257" x2="1379" y1="644.9531" y2="644.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1257" x2="1379" y1="652.9531" y2="652.9531"/><!--MD5=[56c28f3138db1c958ffabd20d59651d2]
class account.ConsulPubKey--><rect fill="#FEFECE" height="48" id="account.ConsulPubKey" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="970.5" y="612.9531"/><ellipse cx="985.5" cy="628.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M988.4688,634.5938 Q987.8906,634.8906 987.25,635.0313 Q986.6094,635.1875 985.9063,635.1875 Q983.4063,635.1875 982.0781,633.5469 Q980.7656,631.8906 980.7656,628.7656 Q980.7656,625.6406 982.0781,623.9844 Q983.4063,622.3281 985.9063,622.3281 Q986.6094,622.3281 987.25,622.4844 Q987.9063,622.6406 988.4688,622.9375 L988.4688,625.6563 Q987.8438,625.0781 987.25,624.8125 Q986.6563,624.5313 986.0313,624.5313 Q984.6875,624.5313 984,625.6094 Q983.3125,626.6719 983.3125,628.7656 Q983.3125,630.8594 984,631.9375 Q984.6875,633 986.0313,633 Q986.6563,633 987.25,632.7344 Q987.8438,632.4531 988.4688,631.875 L988.4688,634.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="999.5" y="633.1074">ConsulPubKey</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="971.5" x2="1088.5" y1="644.9531" y2="644.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="971.5" x2="1088.5" y1="652.9531" y2="652.9531"/><!--MD5=[beb23d62e395e23ab9c0c200341285c5]
class account.LedgerValidator--><rect fill="#FEFECE" height="48" id="account.LedgerValidator" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="1415.5" y="612.9531"/><ellipse cx="1430.5" cy="628.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1433.4688,634.5938 Q1432.8906,634.8906 1432.25,635.0313 Q1431.6094,635.1875 1430.9063,635.1875 Q1428.4063,635.1875 1427.0781,633.5469 Q1425.7656,631.8906 1425.7656,628.7656 Q1425.7656,625.6406 1427.0781,623.9844 Q1428.4063,622.3281 1430.9063,622.3281 Q1431.6094,622.3281 1432.25,622.4844 Q1432.9063,622.6406 1433.4688,622.9375 L1433.4688,625.6563 Q1432.8438,625.0781 1432.25,624.8125 Q1431.6563,624.5313 1431.0313,624.5313 Q1429.6875,624.5313 1429,625.6094 Q1428.3125,626.6719 1428.3125,628.7656 Q1428.3125,630.8594 1429,631.9375 Q1429.6875,633 1431.0313,633 Q1431.6563,633 1432.25,632.7344 Q1432.8438,632.4531 1433.4688,631.875 L1433.4688,634.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="1444.5" y="633.1074">LedgerValidator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1416.5" x2="1545.5" y1="644.9531" y2="644.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1416.5" x2="1545.5" y1="652.9531" y2="652.9531"/><!--MD5=[356410ee5ead33ed9ee87c10e3d38907]
class query.ByNebulaRq--><rect fill="#FEFECE" height="73.6094" id="query.ByNebulaRq" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="196" x="1690" y="267.9531"/><ellipse cx="1746.75" cy="283.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1746.2344,284.5156 Q1744.375,283.8125 1743.7188,283.0469 Q1743.0781,282.2656 1743.0781,280.9531 Q1743.0781,279.2656 1744.1563,278.2969 Q1745.2344,277.3281 1747.1094,277.3281 Q1747.9688,277.3281 1748.8125,277.5313 Q1749.6719,277.7188 1750.5156,278.1094 L1750.5156,280.5 Q1749.7344,279.9375 1748.9063,279.6563 Q1748.0938,279.3594 1747.2969,279.3594 Q1746.4219,279.3594 1745.9375,279.7188 Q1745.4688,280.0781 1745.4688,280.7344 Q1745.4688,281.25 1745.8125,281.5938 Q1746.1563,281.9219 1747.25,282.3281 L1748.3125,282.7344 Q1749.7969,283.2813 1750.5,284.1875 Q1751.2188,285.0938 1751.2188,286.4688 Q1751.2188,288.3438 1750.1094,289.2656 Q1749,290.1875 1746.75,290.1875 Q1745.8281,290.1875 1744.9063,289.9688 Q1743.9844,289.75 1743.125,289.3281 L1743.125,286.7969 Q1744.0938,287.4844 1745.0156,287.8281 Q1745.9375,288.1719 1746.8281,288.1719 Q1747.7344,288.1719 1748.2344,287.7656 Q1748.7344,287.3438 1748.7344,286.6094 Q1748.7344,286.0469 1748.3906,285.6406 Q1748.0625,285.2188 1747.4375,284.9688 L1746.2344,284.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="1767.25" y="288.1074">ByNebulaRq</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1691" x2="1885" y1="299.9531" y2="299.9531"/><ellipse cx="1701" cy="310.9531" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="1710" y="314.1636">ChainType account.ChainType</text><ellipse cx="1701" cy="323.7578" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="1710" y="326.9683">NebulaAddress string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1691" x2="1885" y1="333.5625" y2="333.5625"/><!--MD5=[9008e74c1d017653c0becab070d03a2a]
class query.ByValidatorRq--><rect fill="#FEFECE" height="60.8047" id="query.ByValidatorRq" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1537" y="274.4531"/><ellipse cx="1552" cy="290.4531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1551.4844,291.0156 Q1549.625,290.3125 1548.9688,289.5469 Q1548.3281,288.7656 1548.3281,287.4531 Q1548.3281,285.7656 1549.4063,284.7969 Q1550.4844,283.8281 1552.3594,283.8281 Q1553.2188,283.8281 1554.0625,284.0313 Q1554.9219,284.2188 1555.7656,284.6094 L1555.7656,287 Q1554.9844,286.4375 1554.1563,286.1563 Q1553.3438,285.8594 1552.5469,285.8594 Q1551.6719,285.8594 1551.1875,286.2188 Q1550.7188,286.5781 1550.7188,287.2344 Q1550.7188,287.75 1551.0625,288.0938 Q1551.4063,288.4219 1552.5,288.8281 L1553.5625,289.2344 Q1555.0469,289.7813 1555.75,290.6875 Q1556.4688,291.5938 1556.4688,292.9688 Q1556.4688,294.8438 1555.3594,295.7656 Q1554.25,296.6875 1552,296.6875 Q1551.0781,296.6875 1550.1563,296.4688 Q1549.2344,296.25 1548.375,295.8281 L1548.375,293.2969 Q1549.3438,293.9844 1550.2656,294.3281 Q1551.1875,294.6719 1552.0781,294.6719 Q1552.9844,294.6719 1553.4844,294.2656 Q1553.9844,293.8438 1553.9844,293.1094 Q1553.9844,292.5469 1553.6406,292.1406 Q1553.3125,291.7188 1552.6875,291.4688 L1551.4844,291.0156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="86" x="1566" y="294.6074">ByValidatorRq</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1538" x2="1654" y1="306.4531" y2="306.4531"/><ellipse cx="1548" cy="317.4531" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="1557" y="320.6636">PubKey string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1538" x2="1654" y1="327.2578" y2="327.2578"/><!--MD5=[b719e440f19566b903afa1053b6bbea2]
class query.CommitHashRq--><rect fill="#FEFECE" height="112.0234" id="query.CommitHashRq" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="196" x="1306" y="248.9531"/><ellipse cx="1352.75" cy="264.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1352.2344,265.5156 Q1350.375,264.8125 1349.7188,264.0469 Q1349.0781,263.2656 1349.0781,261.9531 Q1349.0781,260.2656 1350.1563,259.2969 Q1351.2344,258.3281 1353.1094,258.3281 Q1353.9688,258.3281 1354.8125,258.5313 Q1355.6719,258.7188 1356.5156,259.1094 L1356.5156,261.5 Q1355.7344,260.9375 1354.9063,260.6563 Q1354.0938,260.3594 1353.2969,260.3594 Q1352.4219,260.3594 1351.9375,260.7188 Q1351.4688,261.0781 1351.4688,261.7344 Q1351.4688,262.25 1351.8125,262.5938 Q1352.1563,262.9219 1353.25,263.3281 L1354.3125,263.7344 Q1355.7969,264.2813 1356.5,265.1875 Q1357.2188,266.0938 1357.2188,267.4688 Q1357.2188,269.3438 1356.1094,270.2656 Q1355,271.1875 1352.75,271.1875 Q1351.8281,271.1875 1350.9063,270.9688 Q1349.9844,270.75 1349.125,270.3281 L1349.125,267.7969 Q1350.0938,268.4844 1351.0156,268.8281 Q1351.9375,269.1719 1352.8281,269.1719 Q1353.7344,269.1719 1354.2344,268.7656 Q1354.7344,268.3438 1354.7344,267.6094 Q1354.7344,267.0469 1354.3906,266.6406 Q1354.0625,266.2188 1353.4375,265.9688 L1352.2344,265.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="1373.25" y="269.1074">CommitHashRq</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1307" x2="1501" y1="280.9531" y2="280.9531"/><ellipse cx="1317" cy="291.9531" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="1326" y="295.1636">ChainType account.ChainType</text><ellipse cx="1317" cy="304.7578" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="1326" y="307.9683">NebulaAddress string</text><ellipse cx="1317" cy="317.5625" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="1326" y="320.7729">Height int64</text><ellipse cx="1317" cy="330.3672" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="1326" y="333.5776">PulseId int64</text><ellipse cx="1317" cy="343.1719" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="1326" y="346.3823">OraclePubKey string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1307" x2="1501" y1="352.9766" y2="352.9766"/><!--MD5=[55ef87e8a338abbfa8973660f9ab3bc3]
class query.ResultRq--><rect fill="#FEFECE" height="99.2188" id="query.ResultRq" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="196" x="1075" y="255.4531"/><ellipse cx="1141.25" cy="271.4531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1140.7344,272.0156 Q1138.875,271.3125 1138.2188,270.5469 Q1137.5781,269.7656 1137.5781,268.4531 Q1137.5781,266.7656 1138.6563,265.7969 Q1139.7344,264.8281 1141.6094,264.8281 Q1142.4688,264.8281 1143.3125,265.0313 Q1144.1719,265.2188 1145.0156,265.6094 L1145.0156,268 Q1144.2344,267.4375 1143.4063,267.1563 Q1142.5938,266.8594 1141.7969,266.8594 Q1140.9219,266.8594 1140.4375,267.2188 Q1139.9688,267.5781 1139.9688,268.2344 Q1139.9688,268.75 1140.3125,269.0938 Q1140.6563,269.4219 1141.75,269.8281 L1142.8125,270.2344 Q1144.2969,270.7813 1145,271.6875 Q1145.7188,272.5938 1145.7188,273.9688 Q1145.7188,275.8438 1144.6094,276.7656 Q1143.5,277.6875 1141.25,277.6875 Q1140.3281,277.6875 1139.4063,277.4688 Q1138.4844,277.25 1137.625,276.8281 L1137.625,274.2969 Q1138.5938,274.9844 1139.5156,275.3281 Q1140.4375,275.6719 1141.3281,275.6719 Q1142.2344,275.6719 1142.7344,275.2656 Q1143.2344,274.8438 1143.2344,274.1094 Q1143.2344,273.5469 1142.8906,273.1406 Q1142.5625,272.7188 1141.9375,272.4688 L1140.7344,272.0156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="1161.75" y="275.6074">ResultRq</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1076" x2="1270" y1="287.4531" y2="287.4531"/><ellipse cx="1086" cy="298.4531" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="1095" y="301.6636">ChainType account.ChainType</text><ellipse cx="1086" cy="311.2578" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="1095" y="314.4683">NebulaAddress string</text><ellipse cx="1086" cy="324.0625" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="1095" y="327.2729">Height int64</text><ellipse cx="1086" cy="336.8672" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="1095" y="340.0776">OraclePubKey string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1076" x2="1270" y1="346.6719" y2="346.6719"/><!--MD5=[1fd22d9e4b4d95e5c3b1ca0338566efc]
class query.ResultsRq--><rect fill="#FEFECE" height="86.4141" id="query.ResultsRq" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="196" x="844" y="261.9531"/><ellipse cx="906.75" cy="277.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M906.2344,278.5156 Q904.375,277.8125 903.7188,277.0469 Q903.0781,276.2656 903.0781,274.9531 Q903.0781,273.2656 904.1563,272.2969 Q905.2344,271.3281 907.1094,271.3281 Q907.9688,271.3281 908.8125,271.5313 Q909.6719,271.7188 910.5156,272.1094 L910.5156,274.5 Q909.7344,273.9375 908.9063,273.6563 Q908.0938,273.3594 907.2969,273.3594 Q906.4219,273.3594 905.9375,273.7188 Q905.4688,274.0781 905.4688,274.7344 Q905.4688,275.25 905.8125,275.5938 Q906.1563,275.9219 907.25,276.3281 L908.3125,276.7344 Q909.7969,277.2813 910.5,278.1875 Q911.2188,279.0938 911.2188,280.4688 Q911.2188,282.3438 910.1094,283.2656 Q909,284.1875 906.75,284.1875 Q905.8281,284.1875 904.9063,283.9688 Q903.9844,283.75 903.125,283.3281 L903.125,280.7969 Q904.0938,281.4844 905.0156,281.8281 Q905.9375,282.1719 906.8281,282.1719 Q907.7344,282.1719 908.2344,281.7656 Q908.7344,281.3438 908.7344,280.6094 Q908.7344,280.0469 908.3906,279.6406 Q908.0625,279.2188 907.4375,278.9688 L906.2344,278.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="927.25" y="282.1074">ResultsRq</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="845" x2="1039" y1="293.9531" y2="293.9531"/><ellipse cx="855" cy="304.9531" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="864" y="308.1636">ChainType account.ChainType</text><ellipse cx="855" cy="317.7578" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="864" y="320.9683">Height uint64</text><ellipse cx="855" cy="330.5625" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="864" y="333.7729">NebulaAddress string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="845" x2="1039" y1="340.3672" y2="340.3672"/><!--MD5=[367cfbf24eb27e36119faaa57de3ae70]
class query.RevealRq--><rect fill="#FEFECE" height="124.8281" id="query.RevealRq" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="196" x="613" y="242.4531"/><ellipse cx="678.25" cy="258.4531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M677.7344,259.0156 Q675.875,258.3125 675.2188,257.5469 Q674.5781,256.7656 674.5781,255.4531 Q674.5781,253.7656 675.6563,252.7969 Q676.7344,251.8281 678.6094,251.8281 Q679.4688,251.8281 680.3125,252.0313 Q681.1719,252.2188 682.0156,252.6094 L682.0156,255 Q681.2344,254.4375 680.4063,254.1563 Q679.5938,253.8594 678.7969,253.8594 Q677.9219,253.8594 677.4375,254.2188 Q676.9688,254.5781 676.9688,255.2344 Q676.9688,255.75 677.3125,256.0938 Q677.6563,256.4219 678.75,256.8281 L679.8125,257.2344 Q681.2969,257.7813 682,258.6875 Q682.7188,259.5938 682.7188,260.9688 Q682.7188,262.8438 681.6094,263.7656 Q680.5,264.6875 678.25,264.6875 Q677.3281,264.6875 676.4063,264.4688 Q675.4844,264.25 674.625,263.8281 L674.625,261.2969 Q675.5938,261.9844 676.5156,262.3281 Q677.4375,262.6719 678.3281,262.6719 Q679.2344,262.6719 679.7344,262.2656 Q680.2344,261.8438 680.2344,261.1094 Q680.2344,260.5469 679.8906,260.1406 Q679.5625,259.7188 678.9375,259.4688 L677.7344,259.0156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="57" x="698.75" y="262.6074">RevealRq</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="614" x2="808" y1="274.4531" y2="274.4531"/><ellipse cx="624" cy="285.4531" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="633" y="288.6636">ChainType account.ChainType</text><ellipse cx="624" cy="298.2578" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="633" y="301.4683">NebulaAddress string</text><ellipse cx="624" cy="311.0625" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="633" y="314.2729">OraclePubKey string</text><ellipse cx="624" cy="323.8672" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="633" y="327.0776">Height int64</text><ellipse cx="624" cy="336.6719" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="633" y="339.8823">PulseId int64</text><ellipse cx="624" cy="349.4766" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="633" y="352.687">CommitHash string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="614" x2="808" y1="359.2813" y2="359.2813"/><!--MD5=[9227055fe95ef99eb1d1495650c99d51]
class query.RoundHeightRq--><rect fill="#FEFECE" height="73.6094" id="query.RoundHeightRq" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="196" x="382" y="267.9531"/><ellipse cx="427.25" cy="283.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M426.7344,284.5156 Q424.875,283.8125 424.2188,283.0469 Q423.5781,282.2656 423.5781,280.9531 Q423.5781,279.2656 424.6563,278.2969 Q425.7344,277.3281 427.6094,277.3281 Q428.4688,277.3281 429.3125,277.5313 Q430.1719,277.7188 431.0156,278.1094 L431.0156,280.5 Q430.2344,279.9375 429.4063,279.6563 Q428.5938,279.3594 427.7969,279.3594 Q426.9219,279.3594 426.4375,279.7188 Q425.9688,280.0781 425.9688,280.7344 Q425.9688,281.25 426.3125,281.5938 Q426.6563,281.9219 427.75,282.3281 L428.8125,282.7344 Q430.2969,283.2813 431,284.1875 Q431.7188,285.0938 431.7188,286.4688 Q431.7188,288.3438 430.6094,289.2656 Q429.5,290.1875 427.25,290.1875 Q426.3281,290.1875 425.4063,289.9688 Q424.4844,289.75 423.625,289.3281 L423.625,286.7969 Q424.5938,287.4844 425.5156,287.8281 Q426.4375,288.1719 427.3281,288.1719 Q428.2344,288.1719 428.7344,287.7656 Q429.2344,287.3438 429.2344,286.6094 Q429.2344,286.0469 428.8906,285.6406 Q428.5625,285.2188 427.9375,284.9688 L426.7344,284.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="97" x="447.75" y="288.1074">RoundHeightRq</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="383" x2="577" y1="299.9531" y2="299.9531"/><ellipse cx="393" cy="310.9531" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="402" y="314.1636">ChainType account.ChainType</text><ellipse cx="393" cy="323.7578" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="402" y="326.9683">LedgerHeight uint64</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="383" x2="577" y1="333.5625" y2="333.5625"/><!--MD5=[41584e66fd1accac2b7a117e32e921c3]
class query.SignByConsulRq--><rect fill="#FEFECE" height="99.2188" id="query.SignByConsulRq" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="196" x="151" y="255.4531"/><ellipse cx="195.25" cy="271.4531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M194.7344,272.0156 Q192.875,271.3125 192.2188,270.5469 Q191.5781,269.7656 191.5781,268.4531 Q191.5781,266.7656 192.6563,265.7969 Q193.7344,264.8281 195.6094,264.8281 Q196.4688,264.8281 197.3125,265.0313 Q198.1719,265.2188 199.0156,265.6094 L199.0156,268 Q198.2344,267.4375 197.4063,267.1563 Q196.5938,266.8594 195.7969,266.8594 Q194.9219,266.8594 194.4375,267.2188 Q193.9688,267.5781 193.9688,268.2344 Q193.9688,268.75 194.3125,269.0938 Q194.6563,269.4219 195.75,269.8281 L196.8125,270.2344 Q198.2969,270.7813 199,271.6875 Q199.7188,272.5938 199.7188,273.9688 Q199.7188,275.8438 198.6094,276.7656 Q197.5,277.6875 195.25,277.6875 Q194.3281,277.6875 193.4063,277.4688 Q192.4844,277.25 191.625,276.8281 L191.625,274.2969 Q192.5938,274.9844 193.5156,275.3281 Q194.4375,275.6719 195.3281,275.6719 Q196.2344,275.6719 196.7344,275.2656 Q197.2344,274.8438 197.2344,274.1094 Q197.2344,273.5469 196.8906,273.1406 Q196.5625,272.7188 195.9375,272.4688 L194.7344,272.0156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="215.75" y="275.6074">SignByConsulRq</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="152" x2="346" y1="287.4531" y2="287.4531"/><ellipse cx="162" cy="298.4531" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="171" y="301.6636">ConsulPubKey string</text><ellipse cx="162" cy="311.2578" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="171" y="314.4683">ChainType account.ChainType</text><ellipse cx="162" cy="324.0625" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="171" y="327.2729">NebulaId string</text><ellipse cx="162" cy="336.8672" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="171" y="340.0776">RoundId int64</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="152" x2="346" y1="346.6719" y2="346.6719"/><!--MD5=[69662f565e75591c4284ffbe5b233380]
class query.Path--><rect fill="#FEFECE" height="48" id="query.Path" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="61" x="54.5" y="280.9531"/><ellipse cx="69.5" cy="296.9531" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M70.3438,303.7031 L67.8906,303.7031 L67.8906,293.4531 L64.75,293.4531 L64.75,291.3125 L73.4844,291.3125 L73.4844,293.4531 L70.3438,293.4531 L70.3438,303.7031 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="29" x="83.5" y="301.1074">Path</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="55.5" x2="114.5" y1="312.9531" y2="312.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="55.5" x2="114.5" y1="320.9531" y2="320.9531"/><!--MD5=[fd4bef86e21ccefbc2eba91dbb9f52e2]
class scheduler.ConsulInfo--><rect fill="#FEFECE" height="86.4141" id="scheduler.ConsulInfo" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="2551.5" y="261.9531"/><ellipse cx="2573.7" cy="277.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2573.1844,278.5156 Q2571.325,277.8125 2570.6688,277.0469 Q2570.0281,276.2656 2570.0281,274.9531 Q2570.0281,273.2656 2571.1063,272.2969 Q2572.1844,271.3281 2574.0594,271.3281 Q2574.9188,271.3281 2575.7625,271.5313 Q2576.6219,271.7188 2577.4656,272.1094 L2577.4656,274.5 Q2576.6844,273.9375 2575.8563,273.6563 Q2575.0438,273.3594 2574.2469,273.3594 Q2573.3719,273.3594 2572.8875,273.7188 Q2572.4188,274.0781 2572.4188,274.7344 Q2572.4188,275.25 2572.7625,275.5938 Q2573.1063,275.9219 2574.2,276.3281 L2575.2625,276.7344 Q2576.7469,277.2813 2577.45,278.1875 Q2578.1688,279.0938 2578.1688,280.4688 Q2578.1688,282.3438 2577.0594,283.2656 Q2575.95,284.1875 2573.7,284.1875 Q2572.7781,284.1875 2571.8563,283.9688 Q2570.9344,283.75 2570.075,283.3281 L2570.075,280.7969 Q2571.0438,281.4844 2571.9656,281.8281 Q2572.8875,282.1719 2573.7781,282.1719 Q2574.6844,282.1719 2575.1844,281.7656 Q2575.6844,281.3438 2575.6844,280.6094 Q2575.6844,280.0469 2575.3406,279.6406 Q2575.0125,279.2188 2574.3875,278.9688 L2573.1844,278.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="65" x="2589.3" y="282.1074">ConsulInfo</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2552.5" x2="2663.5" y1="293.9531" y2="293.9531"/><ellipse cx="2562.5" cy="304.9531" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="2571.5" y="308.1636">ConsulIndex int</text><ellipse cx="2562.5" cy="317.7578" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="2571.5" y="320.9683">TotalCount int</text><ellipse cx="2562.5" cy="330.5625" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="2571.5" y="333.7729">IsConsul bool</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2552.5" x2="2663.5" y1="340.3672" y2="340.3672"/><!--MD5=[14b527a2e0ee89ea1f44c4648e70c8b2]
class scheduler.Scheduler--><rect fill="#FEFECE" height="265.6797" id="scheduler.Scheduler" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="596" x="1921" y="171.9531"/><ellipse cx="2183.25" cy="187.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2182.7344,188.5156 Q2180.875,187.8125 2180.2188,187.0469 Q2179.5781,186.2656 2179.5781,184.9531 Q2179.5781,183.2656 2180.6563,182.2969 Q2181.7344,181.3281 2183.6094,181.3281 Q2184.4688,181.3281 2185.3125,181.5313 Q2186.1719,181.7188 2187.0156,182.1094 L2187.0156,184.5 Q2186.2344,183.9375 2185.4063,183.6563 Q2184.5938,183.3594 2183.7969,183.3594 Q2182.9219,183.3594 2182.4375,183.7188 Q2181.9688,184.0781 2181.9688,184.7344 Q2181.9688,185.25 2182.3125,185.5938 Q2182.6563,185.9219 2183.75,186.3281 L2184.8125,186.7344 Q2186.2969,187.2813 2187,188.1875 Q2187.7188,189.0938 2187.7188,190.4688 Q2187.7188,192.3438 2186.6094,193.2656 Q2185.5,194.1875 2183.25,194.1875 Q2182.3281,194.1875 2181.4063,193.9688 Q2180.4844,193.75 2179.625,193.3281 L2179.625,190.7969 Q2180.5938,191.4844 2181.5156,191.8281 Q2182.4375,192.1719 2183.3281,192.1719 Q2184.2344,192.1719 2184.7344,191.7656 Q2185.2344,191.3438 2185.2344,190.6094 Q2185.2344,190.0469 2184.8906,189.6406 Q2184.5625,189.2188 2183.9375,188.9688 L2182.7344,188.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="2203.75" y="192.1074">Scheduler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1922" x2="2516" y1="203.9531" y2="203.9531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1929" y="211.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="1941" y="218.1636">ctx context.Context</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1929" y="224.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="1941" y="230.9683">client *gravity.Client</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1945" y="243.7729"/><ellipse cx="1932" cy="253.3672" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="1941" y="256.5776">Adaptors</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="25" x="1996" y="256.5776">map</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="277" x="2021" y="256.5776">[account.ChainType]adaptors.IBlockchainAdaptor</text><ellipse cx="1932" cy="266.1719" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="1941" y="269.3823">Ledger *account.LedgerValidator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1922" x2="2516" y1="275.9766" y2="275.9766"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1929" y="283.9766"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="1941" y="290.187">process(height int64)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1929" y="296.7813"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="204" x="1941" y="302.9917">processByHeight(height int64) error</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1929" y="309.5859"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="181" x="1941" y="315.7964">consulInfo() (*ConsulInfo, error)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1929" y="322.3906"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="397" x="1941" y="328.6011">signConsulsResult(roundId int64, chainType account.ChainType) error</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1929" y="335.1953"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="570" x="1941" y="341.4058">signOraclesByNebula(roundId int64, nebulaId account.NebulaId, chainType account.ChainType) error</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1929" y="348"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="458" x="1941" y="354.2104">sendConsulsToGravityContract(round int64, chainType account.ChainType) error</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1929" y="360.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="564" x="1941" y="367.0151">sendOraclesToNebula(nebulaId account.NebulaId, chainType account.ChainType, round int64) error</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1929" y="373.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="420" x="1941" y="379.8198">updateConsulsAndCandidate(store *storage.Storage, roundId int64) error</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1929" y="386.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="264" x="1941" y="392.6245">calculateScores(store *storage.Storage) error</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1929" y="399.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="497" x="1941" y="405.4292">updateOracles(roundId int64, nebulaId account.NebulaId, store *storage.Storage) error</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1945" y="418.2339"/><ellipse cx="1932" cy="427.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="476" x="1941" y="431.0386">HandleBlock(height int64, store *storage.Storage, isSync bool, isConsul bool) error</text><!--MD5=[7e15bb8bc728d416fc11d992d51e43ef]
class adaptors.IBlockchainAdaptor--><rect fill="#FEFECE" height="48" id="adaptors.IBlockchainAdaptor" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="2143" y="612.9531"/><ellipse cx="2158" cy="628.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2160.9688,634.5938 Q2160.3906,634.8906 2159.75,635.0313 Q2159.1094,635.1875 2158.4063,635.1875 Q2155.9063,635.1875 2154.5781,633.5469 Q2153.2656,631.8906 2153.2656,628.7656 Q2153.2656,625.6406 2154.5781,623.9844 Q2155.9063,622.3281 2158.4063,622.3281 Q2159.1094,622.3281 2159.75,622.4844 Q2160.4063,622.6406 2160.9688,622.9375 L2160.9688,625.6563 Q2160.3438,625.0781 2159.75,624.8125 Q2159.1563,624.5313 2158.5313,624.5313 Q2157.1875,624.5313 2156.5,625.6094 Q2155.8125,626.6719 2155.8125,628.7656 Q2155.8125,630.8594 2156.5,631.9375 Q2157.1875,633 2158.5313,633 Q2159.1563,633 2159.75,632.7344 Q2160.3438,632.4531 2160.9688,631.875 L2160.9688,634.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="2172" y="633.1074">IBlockchainAdaptor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2144" x2="2294" y1="644.9531" y2="644.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="2144" x2="2294" y1="652.9531" y2="652.9531"/><!--MD5=[aaadaf5c3ad6e0e0dd8a1e035309d301]
class __builtin__.string--><rect fill="#FEFECE" height="48" id="__builtin__.string" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="51" y="63.9531"/><ellipse cx="66" cy="79.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M68.9688,85.5938 Q68.3906,85.8906 67.75,86.0313 Q67.1094,86.1875 66.4063,86.1875 Q63.9063,86.1875 62.5781,84.5469 Q61.2656,82.8906 61.2656,79.7656 Q61.2656,76.6406 62.5781,74.9844 Q63.9063,73.3281 66.4063,73.3281 Q67.1094,73.3281 67.75,73.4844 Q68.4063,73.6406 68.9688,73.9375 L68.9688,76.6563 Q68.3438,76.0781 67.75,75.8125 Q67.1563,75.5313 66.5313,75.5313 Q65.1875,75.5313 64.5,76.6094 Q63.8125,77.6719 63.8125,79.7656 Q63.8125,81.8594 64.5,82.9375 Q65.1875,84 66.5313,84 Q67.1563,84 67.75,83.7344 Q68.3438,83.4531 68.9688,82.875 L68.9688,85.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="36" x="80" y="84.1074">string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="52" x2="118" y1="95.9531" y2="95.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="52" x2="118" y1="103.9531" y2="103.9531"/><!--MD5=[b74a782707b467228b7e3e1c2a798458]
reverse link account.ChainType to app.OraclesAddresses--><path d="M1164.0896,674.0099 C1154.7771,705.2243 1137.2024,748.9844 1107,775.9531 C1058.9539,818.855 987.964,840.0456 934.7518,850.3896 " fill="none" id="account.ChainType&lt;-app.OraclesAddresses" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1167.6952,661.0718,1162.2313,665.7777,1164.4737,672.6313,1169.9376,667.9254,1167.6952,661.0718" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="942.5812" y="846.1021">extends</text><!--MD5=[27d249945c915b6723e14d201d0a5a05]
reverse link account.OraclesPubKey to app.OraclesAddresses--><path d="M1306.6961,673.5855 C1294.9255,705.5148 1273.3302,750.5735 1239,775.9531 C1191.4144,811.1321 1030.2396,837.7316 934.7241,850.8597 " fill="none" id="account.OraclesPubKey&lt;-app.OraclesAddresses" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1311.0094,661.2215,1305.2563,665.5691,1307.0567,672.5518,1312.8098,668.2043,1311.0094,661.2215" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="942.5513" y="862.8049">extends</text><!--MD5=[7a764946496609318a9121656efbe903]
reverse link app.Genesis to account.ConsulPubKey--><path d="M300.3872,591.0096 C350.1107,547.2373 431.9975,484.2992 516.5,458.4531 C560.8072,444.9012 889.377,444.3132 933.5,458.4531 C997.9117,479.0948 1019.9871,569.1802 1026.9991,612.9328 " fill="none" id="app.Genesis&lt;-account.ConsulPubKey" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="290.578,599.7652,297.7178,598.7539,299.5304,591.7743,292.3905,592.7856,290.578,599.7652" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="264.7778" y="588.9187">uses</text><!--MD5=[6e731776295cd21b1ed66866d21a27f3]
reverse link app.Genesis to app.OraclesAddresses--><path d="M318.3577,681.1974 C366.6759,711.6635 434.6561,750.9971 499,775.9531 C596.0973,813.6127 714.6393,837.1275 789.2483,849.3938 " fill="none" id="app.Genesis&lt;-app.OraclesAddresses" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="307.128,674.0531,310.0433,680.6487,317.2527,680.4944,314.3375,673.8988,307.128,674.0531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="283.7742" y="693.5502">uses</text><!--MD5=[8d51e1cacb6943d87f9327faf4dc5237]
reverse link query.ByNebulaRq to account.ChainType--><path d="M1762.5618,353.6095 C1742.817,385.9137 1712.2135,425.9314 1673,445.9531 C1586.9617,489.8827 1317.3451,414.4337 1239,470.9531 C1192.7206,504.3398 1178.8721,575.489 1174.7431,612.8694 " fill="none" id="query.ByNebulaRq&lt;-account.ChainType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1769.3407,342.1082,1762.8481,345.2461,1763.2475,352.4461,1769.7401,349.3083,1769.3407,342.1082" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="1733.7659" y="361.6145">uses</text><!--MD5=[2bd3bc78a64ee4647ab1cd5a7c718613]
reverse link query.CommitHashRq to account.ChainType--><path d="M1358.9149,371.6711 C1339.4902,397.0908 1315.2155,424.964 1289,445.9531 C1269.6052,461.4813 1255.8039,452.6525 1239,470.9531 C1201.1384,512.1871 1183.8566,577.7991 1176.9563,612.9135 " fill="none" id="query.CommitHashRq&lt;-account.ChainType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1366.9344,360.9543,1360.137,363.3617,1359.7448,370.5621,1366.5422,368.1548,1366.9344,360.9543" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="1330.2635" y="381.1643">uses</text><!--MD5=[347f8544f1f1f2f4cb3aa1481d1d1230]
reverse link query.ResultRq to account.ChainType--><path d="M1173,367.9585 C1173,442.1695 1173,561.7836 1173,612.7252 " fill="none" id="query.ResultRq&lt;-account.ChainType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1173,354.6569,1169,360.6569,1173,366.6569,1177,360.6569,1173,354.6569" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="1140.8906" y="374.7621">uses</text><!--MD5=[94538f5e10cf2388a29d68e59aca2cab]
reverse link query.ResultsRq to account.ChainType--><path d="M977.9877,358.7145 C998.9258,387.1572 1027.22,421.2111 1058,445.9531 C1077.0554,461.2704 1090.5377,452.8776 1107,470.9531 C1144.5893,512.226 1161.948,577.5267 1168.9419,612.6615 " fill="none" id="query.ResultsRq&lt;-account.ChainType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="970.3332,348.1194,970.6045,355.3254,977.3606,357.8465,977.0892,350.6405,970.3332,348.1194" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="942.5415" y="368.5546">uses</text><!--MD5=[ee0eb43dfdd61ecb7d527f2eacb34ad6]
reverse link query.RevealRq to account.ChainType--><path d="M754.2195,378.6797 C773.1762,404.3441 797.8111,430.5446 827,445.9531 C882.2447,475.1162 1056.9198,433.6109 1107,470.9531 C1152.6234,504.972 1166.752,575.5121 1171.0954,612.7379 " fill="none" id="query.RevealRq&lt;-account.ChainType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="746.4461,367.7466,746.6628,374.9545,753.3996,377.5267,753.1829,370.3188,746.4461,367.7466" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="718.6824" y="387.5185">uses</text><!--MD5=[9daaf11d5c666bd51215f6596ba4d73a]
reverse link query.RoundHeightRq to account.ChainType--><path d="M505.7065,353.7243 C525.6448,386.0818 556.5212,426.1159 596,445.9531 C697.5878,496.9986 1014.5105,404.8364 1107,470.9531 C1153.4235,504.1392 1167.2089,575.3761 1171.291,612.8218 " fill="none" id="query.RoundHeightRq&lt;-account.ChainType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="498.8601,342.2021,498.4863,349.4035,504.99,352.5184,505.3638,345.317,498.8601,342.2021" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="469.4994" y="361.7239">uses</text><!--MD5=[29d003bfc704f084e1198b1597c37f9e]
reverse link query.SignByConsulRq to account.ChainType--><path d="M282.1712,365.7598 C301.9714,395.5919 330.0832,428.7395 365,445.9531 C438.9887,482.4288 1039.5295,423.4923 1107,470.9531 C1153.6744,503.7853 1167.3501,575.1771 1171.3506,612.7379 " fill="none" id="query.SignByConsulRq&lt;-account.ChainType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="274.9927,354.5289,274.8537,361.7387,281.4554,364.64,281.5944,357.4302,274.9927,354.5289" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="246.5385" y="374.6161">uses</text><!--MD5=[5357dc9ba733fd2b876eacdb9f34d90a]
reverse link scheduler.Scheduler to account.ChainType--><path d="M1919.6185,441.5642 C1913.7277,443.1283 1907.8513,444.5948 1902,445.9531 C1830.1905,462.6232 1299.2105,428.4185 1239,470.9531 C1192.3915,503.8788 1178.687,575.2297 1174.6651,612.7601 " fill="none" id="scheduler.Scheduler&lt;-account.ChainType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1932.5332,437.988,1925.6833,435.7343,1920.9684,441.1904,1927.8183,443.4442,1932.5332,437.988" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="1886.0467" y="457.7528">uses</text><!--MD5=[30fef6ea58d9f8f88b130474b5140ca2]
reverse link scheduler.Scheduler to account.LedgerValidator--><path d="M1911.3667,443.3464 C1768.9631,507.4087 1614.0138,577.1149 1534.5873,612.8461 " fill="none" id="scheduler.Scheduler&lt;-account.LedgerValidator" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1923.345,437.9578,1916.2321,436.7715,1912.4014,442.881,1919.5143,444.0673,1923.345,437.9578" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="1883.1516" y="439.1503">uses</text><!--MD5=[0fd43b5b1afe3f3bbcc7cf48a665e841]
reverse link scheduler.Scheduler to adaptors.IBlockchainAdaptor--><path d="M2219,451.2046 C2219,513.0459 2219,578.596 2219,612.8656 " fill="none" id="scheduler.Scheduler&lt;-adaptors.IBlockchainAdaptor" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="2219,438.0772,2215,444.0772,2219,450.0772,2223,444.0772,2219,438.0772" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="2188.1797" y="457.8469">uses</text><!--MD5=[8f275da1828009827b2ff36268fd7b3d]
reverse link __builtin__.string to query.Path--><path d="M85,117.0874 C85,160.3138 85,240.639 85,280.7935 " fill="none" id="__builtin__.string&lt;-query.Path" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="80" y="107.005"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="34.2344" y="269.7647">alias of</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="158" x="1270.5" y="919.2354">Generated via www.dumels.com</text><image height="60" width="60" x="1319.5" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAACW0lEQVR4Xu2aO1LDMBRFH3/YAR0LoYWKkm9BwV5YDXRQBKhImIFhExlaCgpq/rpRHuM8W4lsyUIWujMHHDt++DiyLJkQ5eTk5OQ4Z04x3xLRBbLXipeWiC4Q7iu+FV8eQT0QXVj4TbGiWPXAGul6UQu/i/UuWaAsHDaQqoK39SkRYchckJaRnI23Jyd8SbrXvFUMCpyOtycp/FF4nXyTLgpX5V8LY1kODZvQCWFc50PFkyd4tBU0dYTxHhsgARm53kTQ2Agj3AxnsUi61vl4WW6vImhshW2DeqjF9/DokoUd00j4uCV2qBxbYex7YsknTQrP2vd3YiwnzC6g3gOVz7qNMPfSdY4JnRb2433ldj6m0W0JP3AAB57YI13vntyE8cmhlqxfxSZ2HGerYvsh6Xq/whiF4FbgKxgluQr7Hlpm4baEJZgPJymMuvgj3GlgmV/jtymdF64iyU+4T+XmXMSUzgoPaLqYKckJrys25MpCggjzwGPfAzzwqBLG6x7pE2wKC6PGLpUHEU2ZEAZyKOYC6pmEr8iul27jmEbCRy2xTeXYCCPYV9YzgZbwSOVJgomgsRW2DfodCNeaHoaMb2HUQ+eWhWOJrTAeyC1ZsEy6SUf9EG+WMPfScjhqgntziNsQNHWEITGk8gP1pvCtKWjqCOPaxLL8t0kT+Pl19MK+gmuXm3/Q/FthXE93pJ+KVPFKCQn3SE8epoETkoQwB+LTwKeflPC0QBjNOgs7pDPCGDrKrxE2AV89/JP7sE1YGAcnJ/EuoF60wjeK55aIMpCWw0Nf5OTk5HQnP5VHM9pzOexnAAAAAElFTkSuQmCC" y="921.5938"/><!--MD5=[f6dcf28761406ab0a313eb654783f1c9]
@startuml
skinparamlocked shadowing false
skinparamlocked roundCorner 10
title https://github.com/Gravity-Tech/gravity-core
namespace app {
    class GHApplication << (S,Aquamarine) >> {
        - db *badger.DB
        - storage *storage.Storage
        - adaptors <font color=blue>map</font>[account.ChainType]adaptors.IBlockchainAdaptor
        - scheduler *scheduler.Scheduler
        - ctx context.Context
        - genesis *Genesis
        - ledgerConfig *config.LedgerConfig

        + IsSync bool

        + Info(req types.RequestInfo) types.ResponseInfo
        + SetOption(req types.RequestSetOption) types.ResponseSetOption
        + DeliverTx(req types.RequestDeliverTx) types.ResponseDeliverTx
        + CheckTx(req types.RequestCheckTx) types.ResponseCheckTx
        + Commit() types.ResponseCommit
        + Query(reqQuery types.RequestQuery) types.ResponseQuery
        + InitChain(req types.RequestInitChain) types.ResponseInitChain
        + BeginBlock(req types.RequestBeginBlock) types.ResponseBeginBlock
        + EndBlock(req types.RequestEndBlock) types.ResponseEndBlock

    }
    class Genesis << (S,Aquamarine) >> {
        + ConsulsCount int
        + OraclesAddressByValidator <font color=blue>map</font>[account.ConsulPubKey][]OraclesAddresses

    }
    class OraclesAddresses << (S,Aquamarine) >> {
    }
}
"account.ChainType" *- - "extends""app.OraclesAddresses"
"account.OraclesPubKey" *- - "extends""app.OraclesAddresses"


"app.Genesis""uses" o- - "account.ConsulPubKey"
"app.Genesis""uses" o- - "app.OraclesAddresses"

namespace query {
    class ByNebulaRq << (S,Aquamarine) >> {
        + ChainType account.ChainType
        + NebulaAddress string

    }
    class ByValidatorRq << (S,Aquamarine) >> {
        + PubKey string

    }
    class CommitHashRq << (S,Aquamarine) >> {
        + ChainType account.ChainType
        + NebulaAddress string
        + Height int64
        + PulseId int64
        + OraclePubKey string

    }
    class ResultRq << (S,Aquamarine) >> {
        + ChainType account.ChainType
        + NebulaAddress string
        + Height int64
        + OraclePubKey string

    }
    class ResultsRq << (S,Aquamarine) >> {
        + ChainType account.ChainType
        + Height uint64
        + NebulaAddress string

    }
    class RevealRq << (S,Aquamarine) >> {
        + ChainType account.ChainType
        + NebulaAddress string
        + OraclePubKey string
        + Height int64
        + PulseId int64
        + CommitHash string

    }
    class RoundHeightRq << (S,Aquamarine) >> {
        + ChainType account.ChainType
        + LedgerHeight uint64

    }
    class SignByConsulRq << (S,Aquamarine) >> {
        + ConsulPubKey string
        + ChainType account.ChainType
        + NebulaId string
        + RoundId int64

    }
    class query.Path << (T, #FF7700) >>  {
    }
}


"query.ByNebulaRq""uses" o- - "account.ChainType"
"query.CommitHashRq""uses" o- - "account.ChainType"
"query.ResultRq""uses" o- - "account.ChainType"
"query.ResultsRq""uses" o- - "account.ChainType"
"query.RevealRq""uses" o- - "account.ChainType"
"query.RoundHeightRq""uses" o- - "account.ChainType"
"query.SignByConsulRq""uses" o- - "account.ChainType"

namespace scheduler {
    class ConsulInfo << (S,Aquamarine) >> {
        + ConsulIndex int
        + TotalCount int
        + IsConsul bool

    }
    class Scheduler << (S,Aquamarine) >> {
        - ctx context.Context
        - client *gravity.Client

        + Adaptors <font color=blue>map</font>[account.ChainType]adaptors.IBlockchainAdaptor
        + Ledger *account.LedgerValidator

        - process(height int64) 
        - processByHeight(height int64) error
        - consulInfo() (*ConsulInfo, error)
        - signConsulsResult(roundId int64, chainType account.ChainType) error
        - signOraclesByNebula(roundId int64, nebulaId account.NebulaId, chainType account.ChainType) error
        - sendConsulsToGravityContract(round int64, chainType account.ChainType) error
        - sendOraclesToNebula(nebulaId account.NebulaId, chainType account.ChainType, round int64) error
        - updateConsulsAndCandidate(store *storage.Storage, roundId int64) error
        - calculateScores(store *storage.Storage) error
        - updateOracles(roundId int64, nebulaId account.NebulaId, store *storage.Storage) error

        + HandleBlock(height int64, store *storage.Storage, isSync bool, isConsul bool) error

    }
}


"scheduler.Scheduler""uses" o- - "account.ChainType"
"scheduler.Scheduler""uses" o- - "account.LedgerValidator"
"scheduler.Scheduler""uses" o- - "adaptors.IBlockchainAdaptor"

"__builtin__.string" #.. "alias of""query.Path"

footer  Generated via www.dumels.com\n<img:support_files/svg_placeholders/logo.png{scale=.3}>
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10-post-Debian-1deb10u1
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>